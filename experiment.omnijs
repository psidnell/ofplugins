/*{
    "type": "action",
    "targets": ["omnifocus"],
    "author": "Paul Sidnell",
    "identifier": "https://github.com/psidnell/ofplugins",
    "version": "1.0",
    "description": "Early experimentation.",
    "label": "Experiment",
    "shortLabel": "Experiment"
}*/

processTag = function(tag, setActive) {
    console.log(tag);
    // PSIDNELL-TODO 02/10/2019 toggle on hold status of tag
    tag.children.forEach((child)=>{
        processTag(child, setActive);
    });
}

(() => {
    var action = new PlugIn.Action((selection, sender) => {
        var tag = tagNamed('🏢');
        if (tag) {
            processTag(tag, true)
        }
    });

    action.validate = (selection, sender) => {
        return (true)
    };

    return action;
})();
